/*
Copyright (c) Daybrush
name: infinite-viewer
license: MIT
author: Daybrush
repository: git+https://github.com/daybrush/infinite-viewer.git
version: 0.17.0
*/
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).InfiniteViewer=e()}(this,function(){"use strict";var R=function(t,e){return(R=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}R(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var c=function(){return(c=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function B(t,e,n){if(n||2===arguments.length)for(var i,o=0,r=e.length;o<r;o++)!i&&o in e||((i=i||Array.prototype.slice.call(e,0,o))[o]=e[o]);return t.concat(i||Array.prototype.slice.call(e))}var L="function",W=[{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"},{open:'\\"',close:'\\"'},{open:"\\'",close:"\\'"}],s={cm:function(t){return 96*t/2.54},mm:function(t){return 96*t/254},in:function(t){return 96*t},pt:function(t){return 96*t/72},pc:function(t){return 96*t/6},"%":function(t,e){return t*e/100},vw:function(t,e){return t/100*(e=void 0===e?window.innerWidth:e)},vh:function(t,e){return t/100*(e=void 0===e?window.innerHeight:e)},vmax:function(t,e){return t/100*(e=void 0===e?Math.max(window.innerWidth,window.innerHeight):e)},vmin:function(t,e){return t/100*(e=void 0===e?Math.min(window.innerWidth,window.innerHeight):e)}};function a(t){return t&&"object"==typeof t}function F(t,e,n,i,o){if(m(t,e,n))return n;for(var r,s=t,a=e,l=i,c=o,u=n+1;u<l;++u){var h=function(t){var e,n,i=a[t].trim();return i!==s.close||m(s,a,t)?(e=t,-1===(e=(n=w(c,function(t){return t.open===i}))?F(n,a,t,l,c):e)?(r=t,"break"):void(r=t=e)):{value:t}}(u);if(u=r,"object"==typeof h)return h.value;if("break"===h)break}return-1}function m(t,e,n){return t.ignore?(e=e.slice(Math.max(n-3,0),n+3).join(""),new RegExp(t.ignore).exec(e)):null}function j(r,t){var t="string"==typeof t?{separator:t}:t,e=t.separator,s=void 0===e?",":e,a=t.isSeparateFirst,l=t.isSeparateOnlyOpenClose,e=t.isSeparateOpenClose,c=void 0===e?l:e,e=t.openCloseCharacters,u=void 0===e?W:e,t=u.map(function(t){var e=t.open,t=t.close;return e===t?e:e+"|"+t}).join("|"),e=new RegExp("(\\s*"+s+"\\s*|"+t+"|\\s+)","g"),h=r.split(e).filter(Boolean),f=h.length,p=[],g=[];function v(){return g.length&&(p.push(g.join("")),g=[])}for(var d,n=function(t){var e=h[t].trim(),n=t,i=w(u,function(t){return t.open===e}),o=w(u,function(t){return t.close===e});if(i){if(-1!==(n=F(i,h,t,f,u))&&c)return v()&&a||(p.push(h.slice(t,n+1).join("")),t=n,a)?(d=t,"break"):(d=t,"continue")}else{if(o&&!m(o,h,t))return(i=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var i=Array(t),o=0,e=0;e<n;e++)for(var r=arguments[e],s=0,a=r.length;s<a;s++,o++)i[o]=r[s];return i}(u)).splice(u.indexOf(o),1),{value:j(r,{separator:s,isSeparateFirst:a,isSeparateOnlyOpenClose:l,isSeparateOpenClose:c,openCloseCharacters:i})};if(o=e,!((""!==(i=s)&&" "!=i||""!==o&&" "!=o)&&o!==i||l))return v(),a?(d=t,"break"):(d=t,"continue")}g.push(h.slice(t,(n=-1===n?f-1:n)+1).join("")),d=t=n},i=0;i<f;++i){var o=n(i),i=d;if("object"==typeof o)return o.value;if("break"===o)break}return g.length&&p.push(g.join("")),p}function H(){return Date.now?Date.now():(new Date).getTime()}function V(t,e,n){void 0===n&&(n=-1);for(var i=t.length,o=0;o<i;++o)if(e(t[o],o,t))return o;return n}function w(t,e,n){e=V(t,e);return-1<e?t[e]:n}function Z(t,e){var n=(t=/^([^\d|e|\-|\+]*)((?:\d|\.|-|e-|e\+)+)(\S*)$/g.exec(t=t))?(n=t[1],i=t[2],{prefix:n,unit:t[3],value:parseFloat(i)}):{prefix:"",unit:"",value:NaN},t=n.value,i=n.unit;if(a(e)){var o=e[i];if(o){if(typeof o===L)return o(t);if(s[i])return s[i](t,o)}}else if("%"===i)return t*e/100;return s[i]?s[i](t):t}function q(t,e,n){return Math.max(e,Math.min(t,n))}function u(t,e){t.classList?t.classList.add(e):t.className+=" "+e}function d(t,e,n,i){t.addEventListener(e,n,i)}function b(t,e,n,i){t.removeEventListener(e,n,i)}var N=function(){return(N=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};var t=function(){function t(){this._events={}}var e=t.prototype;return e.on=function(t,e){if(a(t))for(var n in t)this.on(n,t[n]);else this._addEvent(t,e,{});return this},e.off=function(t,e){if(t)if(a(t))for(var n in t)this.off(n);else{var i,o;e?(i=this._events[t])&&-1<(o=V(i,function(t){return t.listener===e}))&&i.splice(o,1):this._events[t]=[]}else this._events={};return this},e.once=function(e,t){var n=this;return t&&this._addEvent(e,t,{once:!0}),new Promise(function(t){n._addEvent(e,t,{once:!0})})},e.emit=function(e,n){var t,i=this,o=(void 0===n&&(n={}),this._events[e]);return!e||!o||(t=!1,n.eventType=e,n.stop=function(){t=!0},n.currentTarget=this,function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var i=Array(t),o=0,e=0;e<n;e++)for(var r=arguments[e],s=0,a=r.length;s<a;s++,o++)i[o]=r[s];return i}(o).forEach(function(t){t.listener(n),t.once&&i.off(e,t.listener)}),!t)},e.trigger=function(t,e){return this.emit(t,e=void 0===e?{}:e)},e._addEvent=function(t,e,n){var i=this._events;i[t]=i[t]||[],i[t].push(N({listener:e},n))},t}(),G=function(t,e){return(G=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};var E=function(){return(E=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function n(t){return 180*(e=[t[0].clientX,t[0].clientY],t=[t[1].clientX,t[1].clientY],n=t[0]-e[0],t=t[1]-e[1],(0<=(e=Math.atan2(t,n))?e:e+2*Math.PI)/Math.PI);var e,n}function S(t){if(!t)return[];if(t.touches){for(var e=t.touches,n=Math.min(e.length,2),i=[],o=0;o<n;++o)i.push(K(e[o]));return i}return[K(t)]}function I(t,e,n){var i=n.length,t=l(t,i),o=t.clientX,r=t.clientY,s=t.originalClientX,t=t.originalClientY,e=l(e,i),a=e.clientX,e=e.clientY,n=l(n,i);return{clientX:s,clientY:t,deltaX:o-a,deltaY:r-e,distX:o-n.clientX,distY:r-n.clientY}}function i(t){return Math.sqrt(Math.pow(t[0].clientX-t[1].clientX,2)+Math.pow(t[0].clientY-t[1].clientY,2))}function K(t){return{clientX:t.clientX,clientY:t.clientY}}function l(t,e){void 0===e&&(e=t.length);for(var n={clientX:0,clientY:0,originalClientX:0,originalClientY:0},i=0;i<e;++i){var o=t[i];n.originalClientX+="originalClientX"in o?o.originalClientX:o.clientX,n.originalClientY+="originalClientY"in o?o.originalClientY:o.clientY,n.clientX+=o.clientX,n.clientY+=o.clientY}return e?{clientX:n.clientX/e,clientY:n.clientY/e,originalClientX:n.originalClientX/e,originalClientY:n.originalClientY/e}:n}var _=function(){function t(t){this.prevClients=[],this.startClients=[],this.movement=0,this.length=0,this.startClients=t,this.prevClients=t,this.length=t.length}var e=t.prototype;return e.getAngle=function(t){return n(t=void 0===t?this.prevClients:t)},e.getRotation=function(t){return n(t=void 0===t?this.prevClients:t)-n(this.startClients)},e.getPosition=function(t,e){var n=I((t=void 0===t?this.prevClients:t)||this.prevClients,this.prevClients,this.startClients),i=n.deltaX,o=n.deltaY;return this.movement+=Math.sqrt(i*i+o*o),this.prevClients=t,n},e.getPositions=function(n){void 0===n&&(n=this.prevClients);var i=this.prevClients;return this.startClients.map(function(t,e){return I([n[e]],[i[e]],[t])})},e.getMovement=function(t){var e,n,i=this.movement;return t?(t=l(t,this.length),e=l(this.prevClients,this.length),n=t.clientX-e.clientX,t=t.clientY-e.clientY,Math.sqrt(n*n+t*t)+i):i},e.getDistance=function(t){return i(t=void 0===t?this.prevClients:t)},e.getScale=function(t){return i(t=void 0===t?this.prevClients:t)/i(this.startClients)},e.move=function(e,n){this.startClients.forEach(function(t){t.clientX-=e,t.clientY-=n})},t}(),$=["textarea","input"],U=function(r){function t(){this.constructor=e}var e;function n(t,e){void 0===e&&(e={});var n,v=r.call(this)||this,t=(v.options={},v.flag=!1,v.pinchFlag=!1,v.data={},v.isDrag=!1,v.isPinch=!1,v.isMouse=!1,v.isTouch=!1,v.clientStores=[],v.targets=[],v.prevTime=0,v.doubleFlag=!1,v._dragFlag=!1,v._isMouseEvent=!1,v._isSecondaryButton=!1,v._preventMouseEvent=!1,v.onDragStart=function(t,e){if(void 0===e&&(e=!0),v.flag||!1!==t.cancelable){var n=v.options,i=n.container,o=n.pinchOutside,r=n.preventWheelClick,s=n.preventRightClick,a=n.preventDefault,l=n.checkInput,c=n.preventClickEventOnDragStart,u=n.preventClickEventOnDrag,n=n.preventClickEventByCondition,h=v.isTouch,f=!v.flag;if(v._isSecondaryButton=3===t.which||2===t.button,r&&(2===t.which||1===t.button)||s&&(3===t.which||2===t.button))return v.stop(),!1;if(f){r=document.activeElement,s=t.target;if(s){var p=s.tagName.toLowerCase(),p=-1<$.indexOf(p),g=s.isContentEditable;if(p||g){if(l||r===s)return!1;if(r&&g&&r.isContentEditable&&r.contains(s))return!1}else(a||"touchstart"===t.type)&&r&&(p=r.tagName.toLowerCase(),(r.isContentEditable||-1<$.indexOf(p))&&r.blur());(c||u||n)&&d(window,"click",v._onClick,!0)}v.clientStores=[new _(S(t))],v.flag=!0,v.isDrag=!1,v._dragFlag=!0,v.data={},v.doubleFlag=H()-v.prevTime<200,v._isMouseEvent=(l=t)&&(-1<l.type.indexOf("mouse")||"button"in l),!v._isMouseEvent&&v._preventMouseEvent&&(v._preventMouseEvent=!1),!1===(v._preventMouseEvent||v.emit("dragStart",E(E({data:v.data,datas:v.data,inputEvent:t,isMouseEvent:v._isMouseEvent,isSecondaryButton:v._isSecondaryButton,isTrusted:e,isDouble:v.doubleFlag},v.getCurrentStore().getPosition()),{preventDefault:function(){t.preventDefault()},preventDrag:function(){v._dragFlag=!1}})))&&v.stop(),v._isMouseEvent&&v.flag&&a&&t.preventDefault()}if(!v.flag)return!1;g=0;f?(v._attchDragEvent(),h&&o&&(g=setTimeout(function(){d(i,"touchstart",v.onDragStart,{passive:!1})}))):h&&o&&b(i,"touchstart",v.onDragStart),v.flag&&((s=t).touches&&2<=s.touches.length)&&(clearTimeout(g),f&&t.touches.length!==t.changedTouches.length||v.pinchFlag||v.onPinchStart(t))}},v.onDrag=function(t,e){if(v.flag){var n=v.options.preventDefault,n=(!v._isMouseEvent&&n&&t.preventDefault(),S(t)),i=v.moveClients(n,t,!1);if(v._dragFlag){if(v.pinchFlag||i.deltaX||i.deltaY)if(!1===(v._preventMouseEvent||v.emit("drag",E(E({},i),{isScroll:!!e,inputEvent:t}))))return void v.stop();v.pinchFlag&&v.onPinch(t,n)}v.getCurrentStore().getPosition(n,!0)}},v.onDragEnd=function(t){var e,n,i,o,r,s;v.flag&&(s=(i=v.options).pinchOutside,e=i.container,r=i.preventClickEventOnDrag,o=i.preventClickEventOnDragStart,i=i.preventClickEventByCondition,n=v.isDrag,(r||o||i)&&requestAnimationFrame(function(){v._allowClickEvent()}),i||o||!r||n||v._allowClickEvent(),v.isTouch&&s&&b(e,"touchstart",v.onDragStart),v.pinchFlag&&v.onPinchEnd(t),0!==(i=null!=t&&t.touches?S(t):[]).length&&v.options.keepDragging?v._addStore(new _(i)):v.flag=!1,o=v._getPosition(),r=H(),s=!n&&v.doubleFlag,v.prevTime=n||s?0:r,v.flag||(v._dettachDragEvent(),v._preventMouseEvent||v.emit("dragEnd",E({data:v.data,datas:v.data,isDouble:s,isDrag:n,isClick:!n,isMouseEvent:v._isMouseEvent,isSecondaryButton:v._isSecondaryButton,inputEvent:t},o)),v.clientStores=[],v._isMouseEvent||(v._preventMouseEvent=!0,requestAnimationFrame(function(){requestAnimationFrame(function(){v._preventMouseEvent=!1})}))))},v.onBlur=function(){v.onDragEnd()},v._allowClickEvent=function(){b(window,"click",v._onClick,!0)},v._onClick=function(t){v._allowClickEvent(),v._preventMouseEvent=!1;var e=v.options.preventClickEventByCondition;null!=e&&e(t)||(t.stopPropagation(),t.preventDefault())},v._onContextMenu=function(t){v.options.preventRightClick?v.onDragEnd(t):t.preventDefault()},v._passCallback=function(){},[].concat(t)),e=(v.options=E({checkInput:!1,container:1<t.length?window:t[0],preventRightClick:!0,preventWheelClick:!0,preventClickEventOnDragStart:!1,preventClickEventOnDrag:!1,preventClickEventByCondition:null,preventDefault:!0,checkWindowBlur:!1,keepDragging:!1,pinchThreshold:0,events:["touch","mouse"]},e),v.options),i=e.container,o=e.events,e=e.checkWindowBlur;return v.isTouch=-1<o.indexOf("touch"),v.isMouse=-1<o.indexOf("mouse"),v.targets=t,v.isMouse&&(t.forEach(function(t){d(t,"mousedown",v.onDragStart),d(t,"mousemove",v._passCallback)}),d(i,"contextmenu",v._onContextMenu)),e&&d(window,"blur",v.onBlur),v.isTouch&&(n={passive:!1},t.forEach(function(t){d(t,"touchstart",v.onDragStart,n),d(t,"touchmove",v._passCallback,n)})),v}G(e=n,i=r),e.prototype=null===i?Object.create(i):(t.prototype=i.prototype,new t);var i=n.prototype;return i.stop=function(){this.isDrag=!1,this.data={},this.clientStores=[],this.pinchFlag=!1,this.doubleFlag=!1,this.prevTime=0,this.flag=!1,this._allowClickEvent(),this._dettachDragEvent()},i.getMovement=function(t){return this.getCurrentStore().getMovement(t)+this.clientStores.slice(1).reduce(function(t,e){return t+e.movement},0)},i.isDragging=function(){return this.isDrag},i.isFlag=function(){return this.flag},i.isPinchFlag=function(){return this.pinchFlag},i.isDoubleFlag=function(){return this.doubleFlag},i.isPinching=function(){return this.isPinch},i.scrollBy=function(t,e,n,i){void 0===i&&(i=!0),this.flag&&(this.clientStores[0].move(t,e),i&&this.onDrag(n,!0))},i.move=function(t,e){var n=t[0],i=t[1],t=this.getCurrentStore().prevClients;return this.moveClients(t.map(function(t){var e=t.clientX,t=t.clientY;return{clientX:e+n,clientY:t+i,originalClientX:e,originalClientY:t}}),e,!0)},i.triggerDragStart=function(t){this.onDragStart(t,!1)},i.setEventData=function(t){var e,n=this.data;for(e in t)n[e]=t[e];return this},i.setEventDatas=function(t){return this.setEventData(t)},i.getCurrentEvent=function(t){return E(E({data:this.data,datas:this.data},this._getPosition()),{movement:this.getMovement(),isDrag:this.isDrag,isPinch:this.isPinch,isScroll:!1,inputEvent:t})},i.getEventData=function(){return this.data},i.getEventDatas=function(){return this.data},i.unset=function(){var e=this,t=this.targets,n=this.options.container;this.off(),b(window,"blur",this.onBlur),this.isMouse&&(t.forEach(function(t){b(t,"mousedown",e.onDragStart)}),b(n,"contextmenu",this._onContextMenu)),this.isTouch&&(t.forEach(function(t){b(t,"touchstart",e.onDragStart)}),b(n,"touchstart",this.onDragStart)),this._allowClickEvent(),this._dettachDragEvent()},i.onPinchStart=function(t){var e=this.options.pinchThreshold;this.isDrag&&this.getMovement()>e||(e=new _(S(t)),this.pinchFlag=!0,this._addStore(e),!1===this.emit("pinchStart",E(E({data:this.data,datas:this.data,angle:e.getAngle(),touches:this.getCurrentStore().getPositions()},e.getPosition()),{inputEvent:t}))&&(this.pinchFlag=!1))},i.onPinch=function(t,e){var n;!this.flag||!this.pinchFlag||e.length<2||(n=this.getCurrentStore(),this.isPinch=!0,this.emit("pinch",E(E({data:this.data,datas:this.data,movement:this.getMovement(e),angle:n.getAngle(e),rotation:n.getRotation(e),touches:n.getPositions(e),scale:n.getScale(e),distance:n.getDistance(e)},n.getPosition(e)),{inputEvent:t})))},i.onPinchEnd=function(t){var e,n;this.pinchFlag&&(e=this.isPinch,this.isPinch=!1,this.pinchFlag=!1,n=this.getCurrentStore(),this.emit("pinchEnd",E(E({data:this.data,datas:this.data,isPinch:e,touches:n.getPositions()},n.getPosition()),{inputEvent:t})))},i.getCurrentStore=function(){return this.clientStores[0]},i.moveClients=function(t,e,n){n=this._getPosition(t,n);return(n.deltaX||n.deltaY)&&(this.isDrag=!0),E(E({data:this.data,datas:this.data},n),{movement:this.getMovement(t),isDrag:this.isDrag,isPinch:this.isPinch,isScroll:!1,isMouseEvent:this._isMouseEvent,isSecondaryButton:this._isSecondaryButton,inputEvent:e})},i._addStore=function(t){this.clientStores.splice(0,0,t)},i._getPosition=function(t,e){var t=this.getCurrentStore().getPosition(t,e),e=this.clientStores.slice(1).reduce(function(t,e){e=e.getPosition();return t.distX+=e.distX,t.distY+=e.distY,t},t),n=e.distX,e=e.distY;return E(E({},t),{distX:n,distY:e})},i._attchDragEvent=function(){var t=this.options.container,e={passive:!1};this.isMouse&&(d(t,"mousemove",this.onDrag),d(t,"mouseup",this.onDragEnd)),this.isTouch&&(d(t,"touchmove",this.onDrag,e),d(t,"touchend",this.onDragEnd,e),d(t,"touchcancel",this.onDragEnd,e))},i._dettachDragEvent=function(){var t=this.options.container;this.isMouse&&(b(t,"mousemove",this.onDrag),b(t,"mouseup",this.onDragEnd)),this.isTouch&&(b(t,"touchstart",this.onDragStart),b(t,"touchmove",this.onDrag),b(t,"touchend",this.onDragEnd),b(t,"touchcancel",this.onDragEnd))},n}(t);var J=function(t){for(var e=5381,n=t.length;n;)e=33*e^t.charCodeAt(--n);return e>>>0};function Q(n,t,e){return e.original?t:t.replace(/([^};{\s}][^};{]*|^\s*){/gm,function(t,e){e=e.trim();return(e?j(e,","):[""]).map(function(t){t=t.trim();return 0===t.indexOf("@")?t:-1<t.indexOf(":global")?t.replace(/\:global/g,""):-1<t.indexOf(":host")?""+t.replace(/\:host/g,"."+n):t?"."+n+" "+t:"."+n}).join(", ")+" {"})}function e(t,e){for(var n=t.length,i=0;i<n;++i)if(e(t[i],i))return!0;return!1}function tt(t,e){for(var n=t.length,i=0;i<n;++i)if(e(t[i],i))return t[i];return null}function et(t){if(void 0===t){if("undefined"==typeof navigator||!navigator)return"";t=navigator.userAgent||""}return t.toLowerCase()}function h(t,e){try{return new RegExp(t,"g").exec(e)}catch(t){return null}}function f(t){return t.replace(/_/g,".")}function o(t,n){var i=null,o="-1";return e(t,function(t){var e=h("("+t.test+")((?:\\/|\\s|:)([0-9|\\.|_]+))?",n);return e&&!t.brand&&(i=t,o=e[3]||"-1",t.versionAlias?o=t.versionAlias:t.versionTest&&(e=t.versionTest.toLowerCase(),o=((e=h("("+e+")((?:\\/|\\s|:)([0-9|\\.|_]+))",n))?e[3]:"")||o),o=f(o),1)}),{preset:i,version:o}}function p(t,n){var i={brand:"",version:"-1"};return e(t,function(t){var e=nt(n,t);return e&&(i.brand=t.id,i.version=t.versionAlias||e.version,"-1"!==i.version)}),i}function nt(t,e){return tt(t,function(t){t=t.brand;return h(""+e.test,t.toLowerCase())})}var g=[{test:"phantomjs",id:"phantomjs"},{test:"whale",id:"whale"},{test:"edgios|edge|edg",id:"edge"},{test:"msie|trident|windows phone",id:"ie",versionTest:"iemobile|msie|rv"},{test:"miuibrowser",id:"miui browser"},{test:"samsungbrowser",id:"samsung internet"},{test:"samsung",id:"samsung internet",versionTest:"version"},{test:"chrome|crios",id:"chrome"},{test:"firefox|fxios",id:"firefox"},{test:"android",id:"android browser",versionTest:"version"},{test:"safari|iphone|ipad|ipod",id:"safari",versionTest:"version"}],it=[{test:"(?=.*applewebkit/(53[0-7]|5[0-2]|[0-4]))(?=.*\\schrome)",id:"chrome",versionTest:"chrome"},{test:"chromium",id:"chrome"},{test:"whale",id:"chrome",versionAlias:"-1",brand:!0}],v=[{test:"applewebkit",id:"webkit",versionTest:"applewebkit|safari"}],ot=[{test:"(?=(iphone|ipad))(?!(.*version))",id:"webview"},{test:"(?=(android|iphone|ipad))(?=.*(naver|daum|; wv))",id:"webview"},{test:"webview",id:"webview"}],y=[{test:"windows phone",id:"windows phone"},{test:"windows 2000",id:"window",versionAlias:"5.0"},{test:"windows nt",id:"window"},{test:"win32|windows",id:"window"},{test:"iphone|ipad|ipod",id:"ios",versionTest:"iphone os|cpu os"},{test:"macos|macintel|mac os x",id:"mac"},{test:"android|linux armv81",id:"android"},{test:"tizen",id:"tizen"},{test:"webos|web0s",id:"webos"}];function rt(t){return!!o(ot,t).preset}function st(t){return 1-Math.pow(1-t,3)}var C,z,D,T,x,M,at,Y,X,lt,O,ct,P,ut,it="safari"===(void 0===C&&function(){var t;if("undefined"!=typeof navigator&&navigator&&navigator.userAgentData)return(t=(t=navigator.userAgentData).brands||t.uaList)&&t.length}()?(D=((Y=navigator.userAgentData).uaList||Y.brands).slice(),T=z&&z.fullVersionList,x=Y.mobile||!1,M=D[0],at=(z&&z.platform||Y.platform||navigator.platform).toLowerCase(),Y={name:M.brand,version:M.version,majorVersion:-1,webkit:!1,webkitVersion:"-1",chromium:!1,chromiumVersion:"-1",webview:!!p(ot,D).brand||rt(et())},M={name:"unknown",version:"-1",majorVersion:-1},Y.webkit=!Y.chromium&&e(v,function(t){return nt(D,t)}),X=p(it,D),Y.chromium=!!X.brand,Y.chromiumVersion=X.version,Y.chromium||(X=p(v,D),Y.webkit=!!X.brand,Y.webkitVersion=X.version),X=tt(y,function(t){return new RegExp(""+t.test,"g").exec(at)}),M.name=X?X.id:"",z&&(M.version=z.platformVersion),T&&T.length?(X=p(g,T),Y.name=X.brand||Y.name,Y.version=X.version||Y.version):(T=p(g,D),Y.name=T.brand||Y.name,Y.version=T.brand&&z?z.uaFullVersion:T.version),Y.webkit&&(M.name=x?"ios":"mac"),"ios"===M.name&&Y.webview&&(Y.version="-1"),M.version=f(M.version),Y.version=f(Y.version),M.majorVersion=parseInt(M.version,10),Y.majorVersion=parseInt(Y.version,10),{browser:Y,os:M,isMobile:x,isHints:!0}):(X=et(X=C),z=!!/mobi/g.exec(X),T={name:"unknown",version:"-1",majorVersion:-1,webview:rt(X),chromium:!1,chromiumVersion:"-1",webkit:!1,webkitVersion:"-1"},Y={name:"unknown",version:"-1",majorVersion:-1},x=(M=o(g,X)).preset,M=M.version,g=(C=o(y,X)).preset,C=C.version,y=o(it,X),T.chromium=!!y.preset,T.chromiumVersion=y.version,T.chromium||(y=o(v,X),T.webkit=!!y.preset,T.webkitVersion=y.version),g&&(Y.name=g.id,Y.version=C,Y.majorVersion=parseInt(C,10)),x&&(T.name=x.id,T.version=M,T.webview&&"ios"===Y.name&&"safari"!==T.name&&(T.webview=!1)),T.majorVersion=parseInt(T.version,10),{browser:T,os:Y,isMobile:z,isHints:!1})).browser.name,v="infinite-viewer-",ht="".concat(v,"wrapper"),ft="".concat(v,"scroll-area"),pt="".concat(v,"scroll-bar"),gt="".concat(v,"horizontal-scroll-bar"),vt="".concat(v,"vertical-scroll-bar"),dt="".concat(v,"scroll-thumb"),mt=(ut=v,lt="\n{\n    position: relative;\n    overscroll-behavior: none;\n}\n.wrapper {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    overflow: auto;\n    top: 0;\n    left: 0;\n    will-change: scroll-position;\n}\n.wrapper::-webkit-scrollbar {\n    display: none;\n}\n.scroll-area {\n    position:absolute;\n    top:0;\n    left:0;\n    transform-origin: 0 0;\n}\n.scroll-bar {\n    position:absolute;\n    width: 10px;\n    height: 10px;\n    box-sizing: border-box;\n    right: 0;\n    bottom: 0;\n    overflow: hidden;\n}\n.horizontal-scroll-bar {\n    width: 100%;\n    height: 14px;\n}\n.vertical-scroll-bar {\n    height: 100%;\n    width: 14px;\n}\n.scroll-thumb {\n    position:relative;\n    opacity: 0.7;\n    background: #333;\n    border-radius: 3px;\n    left: 0px;\n    top: 0px;\n    z-index: 10;\n    width: 6px;\n    height: 6px;\n    transition: all ease 0.2s;\n}\n.horizontal-scroll-bar .scroll-thumb {\n    margin: 4px 0px;\n    transition-property: margin, height, border-radius;\n}\n.vertical-scroll-bar .scroll-thumb {\n    margin: 0px 4px;\n    transition-property: margin, width, border-radius;\n}\n.horizontal-scroll-bar:hover .scroll-thumb {\n    height: 10px;\n    margin: 2px 0px;\n    border-radius: 5px;\n}\n.vertical-scroll-bar:hover .scroll-thumb {\n    width: 10px;\n    margin: 0px 2px;\n    border-radius: 5px;\n}\n".replace(/([^}{]*){/gm,function(t,e){return e.replace(/\.([^{,\s\d.]+)/g,"."+ut+"$1")+"{"}),{className:ct="rCS"+J(lt).toString(36),inject:function(t,e){void 0===e&&(e={});var n,i,o,r,s,a=function(t){if(t&&t.getRootNode){t=t.getRootNode();if(11===t.nodeType)return t}}(t),t=0===P;return(a||t)&&(i=ct,o=lt,e=e,r=a,(s=document.createElement("style")).setAttribute("type","text/css"),s.setAttribute("data-styled-id",i),e.nonce&&s.setAttribute("nonce",e.nonce),s.innerHTML=Q(i,o,e),(r||document.head||document.body).appendChild(s),n=s),t&&(O=n),a||++P,{destroy:function(){a?(a.removeChild(n),n=null):(0<P&&--P,0===P&&O&&(O.parentNode.removeChild(O),O=null))}}}}),A={margin:500,threshold:100,zoom:1,rangeX:[-1/(P=0),1/0],rangeY:[-1/0,1/0],rangeOffsetX:[0,0],rangeOffsetY:[0,0],wrapperElement:null,scrollAreaElement:null,horizontalScrollElement:null,verticalScrollElement:null,usePinch:!1,useAutoZoom:!1,useMouseDrag:!1,pinchThreshold:30,cspNonce:"",maxPinchWheel:1/0,wheelScale:.01,displayHorizontalScroll:!0,displayVerticalScroll:!0,useTransform:!0,useWheelPinch:!0,zoomRange:[.001,1/0],wheelPinchKey:"ctrl",useWheelScroll:it,zoomOffsetX:"50%",zoomOffsetY:"50%",translateZ:0,useGesture:!0,useResizeObserver:!1},wt={horizontal:{pos:"Left",coord:"X",size:"Width"},vertical:{pos:"Top",coord:"Y",size:"Height"}},bt=mt.className,Et=["margin","threshold","zoomOffsetX","zoomOffsetY","zoom","rangeX","rangeY","rangeOffsetX","rangeOffsetY","usePinch","useMouseDrag","pinchThreshold","maxPinchWheel","wheelScale","displayVerticalScroll","displayHorizontalScroll","useWheelScroll","translateZ","useAutoZoom","wheelPinchKey","zoomRange"],y=B(B([],Et,!0),["useWheel","useGesture","cspNonce","wrapperElement","scrollAreaElement","verticalScrollElement","horizontalScrollElement","useResizeObserver"],!1);function St(t,e){t=Math.sqrt(t[0]*t[0]+t[1]*t[1]);return Math.abs(t/e)}function k(t){return Math.abs(t)}function _t(t,e){return null!=t?t:e}function yt(o,r,t){function s(){var t=Date.now(),e=t-c,n=l((e=a<e?a:e)/a),i=l((u-c)/a);u=t,o(n-i),a<=e||r(s)}var a=t.duration,l=t.easing||function(t){return 1-Math.pow(1-t,3)},c=Date.now(),u=c;r(s)}var Ct,zt=function(i){function t(t,e){var n,o=i.call(this)||this,r=(o.type=t,o.isAppend=!1,o.pos=0,o.size=0,o.scrollSize=0,o.isHorizontal=!1,o.onWheel=function(t){var e=o.isHorizontal?t.deltaX:t.deltaY;e&&t.preventDefault(),o.trigger("scroll",{delta:e})},"horizontal"===t),t=e;return e?n=e.querySelector(".".concat(dt)):(t=document.createElement("div"),n=document.createElement("div"),t.insertBefore(n,null),o.isAppend=!0),u(t,r?gt:vt),u(t,pt),u(n,dt),o.thumbElement=n,o.barElement=t,o.isHorizontal=r,o.gesto=new U(t,{container:window}).on("dragStart",function(i){var t=i.inputEvent.target,e=i.datas,t=o.thumbElement===t;t||setTimeout(function(){requestAnimationFrame(function(){var t=o.thumbElement.getBoundingClientRect(),e=t[r?"left":"top"],t=e+t[r?"width":"height"],n=i[r?"clientX":"clientY"];e<=n&&n<=t||(t=(t=o.size)*t/o.scrollSize,o.scrollBy(e<n?t:-t))})},100),e.isThumb=t,i.inputEvent.stopPropagation(),i.inputEvent.preventDefault()}).on("drag",function(t){t.datas.isThumb&&o.scrollBy(o.isHorizontal?t.deltaX:t.deltaY)}),d(o.barElement,"wheel",o.onWheel,{passive:!1}),o}r(t,i);var e=t.prototype;return e.scrollBy=function(t){t/=this.size;this.trigger("scroll",{delta:this.scrollSize*t})},e.render=function(t,e,n,i){this.pos=e,this.size=n,this.scrollSize=i;var o=this.isHorizontal?["X","width"]:["Y","height"],r=o[0],o=o[1];this.barElement.style.cssText="display: ".concat(t&&n<i?"block":"none",";"),this.thumbElement.style.cssText+="".concat(o,": ").concat(n*n/i,"px;")+"transform: translate".concat(r,"(").concat(e/i*n,"px)")},e.destroy=function(){b(this.barElement,"wheel",this.onWheel),this.gesto.off(),this.off()},t}(t),Dt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(function(i){function t(t,e,n){void 0===n&&(n={});var a=i.call(this)||this;return a.containerElement=t,a.viewportElement=e,a.offsetX=0,a.offsetY=0,a.containerWidth=0,a.containerHeight=0,a.viewportWidth=0,a.viewportHeight=0,a.scrollLeft=0,a.scrollTop=0,a._scrollTimer=0,a._zoomTimer=0,a.dragFlag=!1,a.isLoop=!1,a._tempScale=1,a._tempRect=null,a._tempRectTimer=null,a._onDestroys=[],a._asLeft=0,a._asTop=0,a.resize=function(){var t=a.containerElement,e=t.offsetWidth,t=t.offsetHeight,n=a.viewportElement,i=n.offsetWidth,n=n.offsetHeight;a.containerWidth=e,a.containerHeight=t,a.viewportWidth=i,a.viewportHeight=n,a.render(),a._scrollBy(0,0)},a._onScroll=function(){var t=a.wrapperElement,e=t.scrollLeft,t=t.scrollTop,n=a.zoom,n=void 0===n?A.zoom:n,i=e-a.scrollLeft,o=t-a.scrollTop,r=a.getScrollLeft(),s=a.getScrollTop();a.isLoop&&(a.isLoop=!1),a.scrollLeft=e,a.scrollTop=t,a.scrollTo(r+i/n,s+o/n)},a.onWheel=function(t){var e=a.options,n=e.maxPinchWheel||1/0,i=t["".concat(a.wheelPinchKey,"Key")]||t.ctrlKey;if(e.useWheelPinch&&i){i=0<=(o=t.deltaY)?1:-1,n=Math.min(n,Math.abs(o)),i=-(o=i*n),i=Math.max(1+i*(e.wheelScale||.01),1e-6);clearTimeout(a._tempRectTimer),a._tempRectTimer=window.setTimeout(function(){a._tempRect=null},100),a._triggerPinch({distance:n,scale:i,rotation:0,zoom:a.zoom*i,inputEvent:t,isWheel:!0,clientX:t.clientX,clientY:t.clientY,ratioX:0,ratioY:0})}else{if(!e.useWheelScroll)return;var n=a.zoom,i=t.deltaX,o=t.deltaY;t.shiftKey&&!i&&(i=o,o=0),a.scrollBy(i/n,o/n)}t.preventDefault()},a.onGestureStart=function(t){a._tempScale=a.zoom,a._setClientRect(),t.preventDefault()},a.onGestureChange=function(t){var e;t.preventDefault(),a.gesto.isFlag()||!a._tempScale?a._tempScale=0:(e=t.scale,a._triggerPinch({distance:0,scale:e,rotation:t.rotation,inputEvent:t,isWheel:!0,zoom:a._tempScale*e,clientX:t.clientX,clientY:t.clientY,ratioX:0,ratioY:0}))},a.onGestureEnd=function(){},a.options=c(c({},A),n),a.init(),a}r(t,i);var n,o,e=t.prototype;return e.getContainer=function(){return this.containerElement},e.getViewport=function(){return this.viewportElement},e.getWrapper=function(){return this.wrapperElement},e.geScrollArea=function(){return this.scrollAreaElement},e.destroy=function(){this.off(),this.gesto.unset(),this.verticalScrollbar.destroy(),this.horizontalScrollbar.destroy(),this.injectResult.destroy();var t=this.containerElement;this._onDestroys.forEach(function(t){t()}),b(this.wrapperElement,"scroll",this._onScroll),b(t,"wheel",this.onWheel),b(t,"gesturestart",this.onGestureStart),b(t,"gesturechange",this.onGestureChange),b(t,"gesturesend",this.onGestureEnd),this.gesto=null,this.injectResult=null,this.containerElement=null,this.viewportElement=null,this.options=null},e.getScrollTop=function(t){return this.scrollTop/this.zoom+this.offsetY+(t?k(this.getRangeY()[0]):0)},e.getScrollLeft=function(t){return this.scrollLeft/this.zoom+this.offsetX+(t?k(this.getRangeX()[0]):0)},e.getScrollWidth=function(t){t=this.getRangeX(t);return this.containerWidth+k(t[0])+k(t[1])},e.getScrollHeight=function(t){t=this.getRangeY(t);return this.containerHeight+k(t[0])+k(t[1])},e.scrollCenter=function(t){this.resize();var e=this.zoom,n=-(this.containerWidth/e-this.viewportWidth)/2,e=-(this.containerHeight/e-this.viewportHeight)/2;return this.scrollTo(n,e,t)},e.scrollBy=function(t,e,n){return this._pauseScrollAnimation(),n&&n.duration?(this._startScrollAnimation([t,e],n),!0):this.scrollTo(this.getScrollLeft()+t,this.getScrollTop()+e)},e.scrollTo=function(t,e,n){return this._pauseScrollAnimation(),n&&n.duration?this.scrollBy(t-this.getScrollLeft(),e-this.getScrollTop(),n):this._scrollTo(t,e)},e.zoomBy=function(t,e){this._pauseZoomAnimation(),e&&e.duration?this._startZoomAnimation(t,e):this._setZoom(this.zoom+t)},e.setZoom=function(t,e){this._pauseZoomAnimation(),e&&e.duration?this._startZoomAnimation(t-this.zoom,e):this._setZoom(t)},e.getRangeX=function(t,e){return this._getRangeCoord("horizontal",t,e)},e.getRangeY=function(t,e){return this._getRangeCoord("vertical",t,e)},e.init=function(){var t,a=this,e=this.containerElement,l=this.options,n=l.wrapperElement||e.querySelector(".".concat(ht)),i=l.scrollAreaElement||e.querySelector(".".concat(ft)),o=l.horizontalScrollElement||e.querySelector(".".concat(gt)),r=l.verticalScrollElement||e.querySelector(".".concat(vt));n||((n=document.createElement("div")).insertBefore(this.viewportElement,null),e.insertBefore(n,null)),this.wrapperElement=n,i||(i=document.createElement("div"),n.insertBefore(i,n.firstChild)),this.scrollAreaElement=i,u(e,bt),u(n,ht),u(i,ft),this.horizontalScrollbar=new zt("horizontal",o),this.verticalScrollbar=new zt("vertical",r),this.horizontalScrollbar.on("scroll",function(t){a.scrollBy(t.delta/a.zoom,0)}),this.verticalScrollbar.on("scroll",function(t){a.scrollBy(0,t.delta/a.zoom)}),this.horizontalScrollbar.isAppend&&e.insertBefore(this.horizontalScrollbar.barElement,null),this.verticalScrollbar.isAppend&&e.insertBefore(this.verticalScrollbar.barElement,null),this.injectResult=mt.inject(e,{nonce:this.options.cspNonce}),this.gesto=new U(e,{container:document.body,events:["touch","mouse"]}).on("dragStart",function(t){var e=t.inputEvent,n=t.datas,i=t.stop,t=t.isMouseEvent;!a.useMouseDrag&&t||(a._pauseScrollAnimation(),(a.dragFlag=!1)===a.trigger("dragStart",{inputEvent:e}))?i():(e.preventDefault(),n.startEvent=e)}).on("drag",function(t){var e,n,i,o,r,s;!a.options.usePinch||t.isPinch||a.useMouseDrag&&t.isMouseEvent?(a.trigger("drag",c(c({},t),{inputEvent:t.inputEvent})),i=(e=t).deltaX,o=e.deltaY,e=e.datas,r=Date.now(),(s=e.speed)?(n=r-e.time,e.speed=[s[0]/2+i/n,s[1]/2+o/n]):(e.speed=[0,0],e.time=r),i=a.zoom,a.scrollBy(-t.deltaX/i,-t.deltaY/i)):!a.dragFlag&&t.movement>l.pinchThreshold&&(a.dragFlag=!0,a.trigger("abortPinch",{inputEvent:t.datas.startEvent||t.inputEvent}))}).on("dragEnd",function(t){a.trigger("dragEnd",{isDrag:t.isDrag,isDouble:t.isDouble,inputEvent:t.inputEvent}),a._startScrollAnimationBySpeed(t.datas.speed)}).on("pinchStart",function(t){var e=t.inputEvent,n=t.datas,t=t.stop;e.preventDefault(),a._pauseScrollAnimation(),n.startZoom=a.zoom,!1===a.trigger("pinchStart",{inputEvent:e})&&t(),a._setClientRect()}).on("pinch",function(t){a._triggerPinch({rotation:t.rotation,distance:t.distance,scale:t.scale,inputEvent:t.inputEvent,isWheel:!1,zoom:t.datas.startZoom*t.scale,clientX:t.clientX,clientY:t.clientY,ratioX:0,ratioY:0})}).on("pinchEnd",function(){a._tempRect=null}),d(n,"scroll",this._onScroll),l.useResizeObserver?((t=new ResizeObserver(function(){a.resize()})).observe(this.viewportElement),t.observe(this.containerElement),this._onDestroys.push(function(){t.disconnect()})):(d(window,"resize",this.resize),this._onDestroys.push(function(){b(window,"resize",a.resize)})),(l.useWheelPinch||l.useWheelScroll)&&d(e,"wheel",this.onWheel,{passive:!1}),l.useGesture&&(d(e,"gesturestart",this.onGestureStart,{passive:!1}),d(e,"gesturechange",this.onGestureChange,{passive:!1})),this.resize()},e.render=function(){var t=this.offsetX,e=this.offsetY,n=this.zoom,n=void 0===n?A.zoom:n,i=this.translateZ,i=void 0===i?0:i,o=this.options.useTransform,o=void 0===o?A.useTransform:o,t=-t*n,e=-e*n,r=(this.scrollAreaElement.style.cssText="width:calc(100% + ".concat(this.getScrollAreaWidth(),"px);")+"height:calc(100% + ".concat(this.getScrollAreaHeight(),"px);"),this.viewportElement.style);r.cssText+=!1===o?"position: relative; top: ".concat(e,"px; left: ").concat(t,"px;"):"transform-origin: 0 0;transform:translate3d(".concat(t,"px, ").concat(e,"px, ").concat(i,"px) scale(").concat(n,");"),this.renderScroll()},e.renderScroll=function(){var t=this.containerWidth,e=this.containerHeight,n=this.zoom,i=this.getScrollLeft(!0)*n,n=this.getScrollTop(!0)*n,o=this.getScrollWidth(!0),r=this.getScrollHeight(!0);this.horizontalScrollbar.render(this.displayHorizontalScroll,i,t,o),this.verticalScrollbar.render(this.displayVerticalScroll,n,e,r)},e.move=function(t,e){var n=this.wrapperElement;n.scrollLeft=t,n.scrollTop=e},e._startZoomAnimation=function(e,t){var n,i=this;e&&(n=t.duration,yt(function(t){i._setZoom(i.zoom+e*t)},function(t){i._zoomTimer=requestAnimationFrame(t)},{easing:t.easing||st,duration:n}))},e._startScrollAnimation=function(e,t){var n,i=this;(e[0]||e[1])&&(n=t.duration,yt(function(t){i._scrollBy(e[0]*t,e[1]*t)},function(t){i._scrollTimer=requestAnimationFrame(t)},{easing:t.easing||st,duration:n}))},e._startScrollAnimationBySpeed=function(t){var e,n;if(t&&(t[0]||t[1]))return e=St(t,-6e-4),n=St(t=t,n=-6e-4),t=[-t[0]/2*n,-t[1]/2*n],this._startScrollAnimation(t,{duration:e})},e._pauseScrollAnimation=function(){cancelAnimationFrame(this._scrollTimer)},e._pauseZoomAnimation=function(){cancelAnimationFrame(this._zoomTimer)},e.getScrollAreaWidth=function(){var t=this.getRangeX(!0),e=t[0],t=t[1];return e||t?2*this.margin:0},e.getScrollAreaHeight=function(){var t=this.getRangeY(!0),e=t[0],t=t[1];return e||t?2*this.margin:0},e._triggerPinch=function(t){var e=t.clientX,n=t.clientY,i=t.zoom,o=(this.useAutoZoom&&this._zoomByClient(t.zoom,e,n),this._tempRect||this._setClientRect(),this.zoomRange),r=this._tempRect,s=r.left,a=r.top,e=(e-s)/r.width*100,s=(n-a)/r.height*100;this.trigger("pinch",c(c({},t),{zoom:q(i,o[0],o[1]),ratioX:e,ratioY:s}))},e._setClientRect=function(){var t=this.getContainer().getBoundingClientRect();this._tempRect={left:t.left,top:t.top,width:t.width,height:t.height}},e._zoomByClient=function(t,e,n){this._tempRect||this._setClientRect();var i=this._tempRect,o=i.left,r=i.top,s=i.width,i=i.height,a=this.options,l=a.zoomOffsetX,c=a.zoomOffsetY;a.zoomOffsetX="".concat((e-o)/s*100,"%"),a.zoomOffsetY="".concat((n-r)/i*100,"%"),this._setZoom(t),a.zoomOffsetX=l,a.zoomOffsetY=c},e._setZoom=function(t){var e=this.containerWidth,n=this.containerHeight,i=this.zoom,o=this.zoomRange,r=this.zoomOffsetX,r=void 0===r?A.zoomOffsetX:r,s=this.zoomOffsetY,s=void 0===s?A.zoomOffsetY:s,a=this.getScrollLeft(),l=this.getScrollTop(),t=q(t,o[0],o[1]),o=(this.options.zoom=t,this.getScrollLeft()),c=this.getScrollTop(),r=Z("".concat(r),e),e=Z("".concat(s),n);this._scrollBy(a+r/i-(o+r/t),l+e/i-(c+e/t)),this.render()},e._scrollBy=function(t,e){return this._scrollTo(this.getScrollLeft()+t,this.getScrollTop()+e)},e._scrollTo=function(t,e){var n=this,i=this.scrollLeft,o=this.scrollTop,r=(this._scrollToType("horizontal",t),this._scrollToType("vertical",e),this.scrollLeft),s=this.scrollTop,a=(this.render(),this.getScrollLeft()),l=this.getScrollTop();return this._emitScrollEvent(a,l),Math.round(i)===r&&Math.round(o)===s||(this.isLoop=!0,this.move(r,s),requestAnimationFrame(function(){var t,e;n.isLoop&&(n.isLoop=!1,t=(e=n.wrapperElement).scrollLeft,e=e.scrollTop,n.scrollLeft=t,n.scrollTop=e,r===Math.round(t)&&s===Math.round(e)||n._scrollTo(a,l))}),!1)},e._scrollToType=function(t,e){var t=wt[t],n=this.zoom,n=void 0===n?A.zoom:n,i=this.margin,i=void 0===i?A.margin:i,o=this.threshold,o=void 0===o?A.threshold:o,r=this["scroll".concat(t.pos)],s=this["getRange".concat(t.coord)](!0,!0),a=s[0],s=s[1],r=Math.round(r),l=this["getScrollArea".concat(t.size)](),c=e*n;a===s?e=(r=a)/n:c-o<=a?e=(a+(r=Math.max(0,c-a)))/n:s<=c+o?(r=l-(a=Math.max(0,s-c)),e=(s-a)/n):r<o?r+=i:l-o<r&&(r-=i),r=Math.round(r),this["scroll".concat(t.pos)]=r,this["offset".concat(t.coord)]=e-r/n},e._getRangeCoord=function(t,e,n){var i,o=this.margin,o=void 0===o?A.margin:o,r=this.zoom,r=void 0===r?A.zoom:r,s=this.threshold,t=wt[t],a=_t(this["range".concat(t.coord)],A["range".concat(t.coord)]),l=_t(this["rangeOffset".concat(t.coord)],A["rangeOffset".concat(t.coord)]),n=(i=this["getScroll".concat(t.pos)](),o=o,a=a,s=s,[(n=n)||isFinite(a[0])?a[0]:Math.min(-1,Math.floor(i/o))*o-s,n||isFinite(a[1])?a[1]:Math.max(1,Math.ceil(i/o))*o+s]);return e?[n[0]*r+l[0],Math.max(this["viewport".concat(t.size)]*r-this["container".concat(t.size)],n[1]*r+l[1])]:[n[0]+l[0],n[1]+l[1]]},e._emitScrollEvent=function(t,e){var n=this._asLeft,i=this._asTop;n===t&&i===e||(this._asLeft=t,this._asTop=e,this.trigger("scroll",{scrollLeft:t,scrollTop:e}))},function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;0<=a;a--)(o=t[a])&&(s=(r<3?o(s):3<r?o(e,n,s):o(e,n))||s);return 3<r&&s&&Object.defineProperty(e,n,s),s}([(n=Et,o=function(t,e){var n={enumerable:!0,configurable:!0,get:function(){return this.options[e]}},i="set ".concat(e).replace(/[\s-_]([a-z])/g,function(t,e){return e.toUpperCase()});t[i]?n.set=function(t){this[i](t)}:n.set=function(t){this.options[e]=t},Object.defineProperty(t,e,n)},function(t){var e=t.prototype;n.forEach(function(t){o(e,t)})})],t)}(t)),Tt={__proto__:null,default:Dt,OPTIONS:y,PROPERTIES:Et,EVENTS:["scroll","abortPinch","dragStart","dragEnd","pinchStart","pinch"],METHODS:["getScrollLeft","getScrollTop","getScrollWidth","getScrollHeight","scrollTo","scrollBy","zoomBy","scrollCenter","getContainer","getViewport","getWrapper","setZoom","getRangeX","getRangeY","resize"],CLASS_NAME:bt};for(Ct in Tt)Dt[Ct]=Tt[Ct];return Dt});
//# sourceMappingURL=infinite-viewer.min.js.map
